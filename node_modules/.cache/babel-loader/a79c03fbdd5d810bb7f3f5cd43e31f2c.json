{"ast":null,"code":"'use strict';\n\n/**\n @module browser/Progress\n*/\n\n/**\n * Expose `Progress`.\n */\nmodule.exports = Progress;\n\n/**\n * Initialize a new `Progress` indicator.\n */\nfunction Progress() {\n  this.percent = 0;\n  this.size(0);\n  this.fontSize(11);\n  this.font('helvetica, arial, sans-serif');\n}\n\n/**\n * Set progress size to `size`.\n *\n * @public\n * @param {number} size\n * @return {Progress} Progress instance.\n */\nProgress.prototype.size = function (size) {\n  this._size = size;\n  return this;\n};\n\n/**\n * Set text to `text`.\n *\n * @public\n * @param {string} text\n * @return {Progress} Progress instance.\n */\nProgress.prototype.text = function (text) {\n  this._text = text;\n  return this;\n};\n\n/**\n * Set font size to `size`.\n *\n * @public\n * @param {number} size\n * @return {Progress} Progress instance.\n */\nProgress.prototype.fontSize = function (size) {\n  this._fontSize = size;\n  return this;\n};\n\n/**\n * Set font to `family`.\n *\n * @param {string} family\n * @return {Progress} Progress instance.\n */\nProgress.prototype.font = function (family) {\n  this._font = family;\n  return this;\n};\n\n/**\n * Update percentage to `n`.\n *\n * @param {number} n\n * @return {Progress} Progress instance.\n */\nProgress.prototype.update = function (n) {\n  this.percent = n;\n  return this;\n};\n\n/**\n * Draw on `ctx`.\n *\n * @param {CanvasRenderingContext2d} ctx\n * @return {Progress} Progress instance.\n */\nProgress.prototype.draw = function (ctx) {\n  try {\n    var percent = Math.min(this.percent, 100);\n    var size = this._size;\n    var half = size / 2;\n    var x = half;\n    var y = half;\n    var rad = half - 1;\n    var fontSize = this._fontSize;\n    ctx.font = fontSize + 'px ' + this._font;\n    var angle = Math.PI * 2 * (percent / 100);\n    ctx.clearRect(0, 0, size, size);\n\n    // outer circle\n    ctx.strokeStyle = '#9f9f9f';\n    ctx.beginPath();\n    ctx.arc(x, y, rad, 0, angle, false);\n    ctx.stroke();\n\n    // inner circle\n    ctx.strokeStyle = '#eee';\n    ctx.beginPath();\n    ctx.arc(x, y, rad - 1, 0, angle, true);\n    ctx.stroke();\n\n    // text\n    var text = this._text || (percent | 0) + '%';\n    var w = ctx.measureText(text).width;\n    ctx.fillText(text, x - w / 2 + 1, y + fontSize / 2 - 1);\n  } catch (ignore) {\n    // don't fail if we can't render progress\n  }\n  return this;\n};","map":{"version":3,"names":["module","exports","Progress","percent","size","fontSize","font","prototype","_size","text","_text","_fontSize","family","_font","update","n","draw","ctx","Math","min","half","x","y","rad","angle","PI","clearRect","strokeStyle","beginPath","arc","stroke","w","measureText","width","fillText","ignore"],"sources":["/Users/troydaniels/node_modules/mocha/lib/browser/progress.js"],"sourcesContent":["'use strict';\n\n/**\n @module browser/Progress\n*/\n\n/**\n * Expose `Progress`.\n */\n\nmodule.exports = Progress;\n\n/**\n * Initialize a new `Progress` indicator.\n */\nfunction Progress() {\n  this.percent = 0;\n  this.size(0);\n  this.fontSize(11);\n  this.font('helvetica, arial, sans-serif');\n}\n\n/**\n * Set progress size to `size`.\n *\n * @public\n * @param {number} size\n * @return {Progress} Progress instance.\n */\nProgress.prototype.size = function (size) {\n  this._size = size;\n  return this;\n};\n\n/**\n * Set text to `text`.\n *\n * @public\n * @param {string} text\n * @return {Progress} Progress instance.\n */\nProgress.prototype.text = function (text) {\n  this._text = text;\n  return this;\n};\n\n/**\n * Set font size to `size`.\n *\n * @public\n * @param {number} size\n * @return {Progress} Progress instance.\n */\nProgress.prototype.fontSize = function (size) {\n  this._fontSize = size;\n  return this;\n};\n\n/**\n * Set font to `family`.\n *\n * @param {string} family\n * @return {Progress} Progress instance.\n */\nProgress.prototype.font = function (family) {\n  this._font = family;\n  return this;\n};\n\n/**\n * Update percentage to `n`.\n *\n * @param {number} n\n * @return {Progress} Progress instance.\n */\nProgress.prototype.update = function (n) {\n  this.percent = n;\n  return this;\n};\n\n/**\n * Draw on `ctx`.\n *\n * @param {CanvasRenderingContext2d} ctx\n * @return {Progress} Progress instance.\n */\nProgress.prototype.draw = function (ctx) {\n  try {\n    var percent = Math.min(this.percent, 100);\n    var size = this._size;\n    var half = size / 2;\n    var x = half;\n    var y = half;\n    var rad = half - 1;\n    var fontSize = this._fontSize;\n\n    ctx.font = fontSize + 'px ' + this._font;\n\n    var angle = Math.PI * 2 * (percent / 100);\n    ctx.clearRect(0, 0, size, size);\n\n    // outer circle\n    ctx.strokeStyle = '#9f9f9f';\n    ctx.beginPath();\n    ctx.arc(x, y, rad, 0, angle, false);\n    ctx.stroke();\n\n    // inner circle\n    ctx.strokeStyle = '#eee';\n    ctx.beginPath();\n    ctx.arc(x, y, rad - 1, 0, angle, true);\n    ctx.stroke();\n\n    // text\n    var text = this._text || (percent | 0) + '%';\n    var w = ctx.measureText(text).width;\n\n    ctx.fillText(text, x - w / 2 + 1, y + fontSize / 2 - 1);\n  } catch (ignore) {\n    // don't fail if we can't render progress\n  }\n  return this;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}